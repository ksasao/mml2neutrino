# mml2neutrino
MML (Music Macro Language) for NEUTRINO

## アプリ
- [v0.2](https://github.com/ksasao/mml2neutrino/files/4251015/mml2neutrino_v0.2.zip) 細かな修正と機能追加。文法エラーメッセージの改善。([リリースノート](https://github.com/ksasao/mml2neutrino/releases/tag/v0.2))
- [v0.1](https://github.com/ksasao/mml2neutrino/files/4243814/v0.1.zip) とにかく試したい方向け。α版です。

## 書式
### 基本
(音階名)(シャープ → # または + /フラット → -)(長さ)(歌詞)のように続けて入力します。音階名と歌詞は必須です。例えば、

> C#4あ

のように入力すると ド#, 四分音符で「あ」と歌います。

|記号|意味|デフォルト値|例|
|---|---|---|---|
|L|デフォルトの音長(四分音符=4,八分音符=8など)を指定します。|L4|L8Cあ|
|C,D,E,F,G,A,B|音階(C=ド,D=レ,...,B=シ)|Lで指定した値を引き継ぎます|Cあ (「ド」の音程で「あ」と歌います)|
|R|休符|Lで指定した値を引き継ぎます|L8R (八分休符)|
|O|オクターブ|O4|R2L2O5CドO4BシO5Cド|
|>|オクターブを一つ上げる|-|R4CドEミGソ>C2ド|
|<|オクターブを一つ下げる|-|R4O5Cド<GソEミC2ド|
|T|テンポを四分音符換算で指定|80|T120 (♩=120 に設定)|

## 使用方法
1. ```input.bat``` ```mml2neutrino.exe``` ```template.xml``` の3つのファイルを NEUTRINO の Run.bat と同じフォルダにコピーしてください。
2. コマンドプロンプトで、NEUTRINOと同じフォルダに移動(```cd c:\Users\ksasao\Desktop\NEUTRINO``` などのように自分の環境にあわせて入力)し、```mml2neutrino.exe "任意のMML"``` で実行します。必ず```"``` (ダブルクォーテーション)で囲むようにしてください。

## 実行例
```
mml2neutrino.exe "O4L4R4CあEさAだG2よ"
```
で、「朝だよー」と歌います。またその音声ファイル(output.wav)が生成されます。

## 制限事項
現時点では様々な制限事項があります。徐々に修正していきます。勢い大事。
- 1小節目の歌い始める直前には休符を挿入してください。これは音声の立ち上がりは(ブレスなど)実際の音符よりも早くから音が鳴るためです。
- 内部的には4/4拍子、八分音符単位で処理をしています。小節をまたがるような音の長さを指定するとおかしな動作をします。
- 多少エラーチェックはしていますが、予測できない結果になることがあります。
- 対応しているのは全音符、二分音符、四分音符、八分音符のみです。